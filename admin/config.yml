backend:
  name: git-gateway
  branch: main

media_folder: "assets/uploads"
public_folder: "/assets/uploads"

collections:
  # ✅ 1. DIPLOMAG – ARTICLES
  - name: "diplomag"
    label: "Diplomag – Articles"
    files:
      - label: "Articles Diplomag"
        name: "diplomag_data"
        file: "content/diplomag.json"
        format: "json"
        fields:
          - label: "Articles"
            name: "items"
            widget: "list"
            summary: "{{fields.date}} — {{fields.pays}} — {{fields.titre}}"
            fields:
              - { label: "Slug (sans espace, ex : russie-otan-2025)", name: "slug", widget: "string" }
              - { label: "Titre", name: "titre", widget: "string" }
              - { label: "Pays / Région", name: "pays", widget: "string" }
              - { label: "Date (ex : Novembre 2025)", name: "date", widget: "string" }
              - label: "Thème principal"
                name: "theme"
                widget: "select"
                options:
                  - { label: "Géopolitique", value: "geopolitique" }
                  - { label: "Politique", value: "politique" }
                  - { label: "Écologie / climat", value: "ecologie" }
                  - { label: "Économie / finances", value: "finances" }
                  - { label: "Santé / société", value: "sante" }
                  - { label: "Autre", value: "autre" }
              - { label: "Image de mise en avant", name: "image", widget: "image", required: false }
              - { label: "Extrait court (accroche)", name: "extrait", widget: "text" }
              - { label: "Texte complet de l’article", name: "body", widget: "markdown", required: false }
              - { label: "Lien vers le PDF (optionnel)", name: "pdf_url", widget: "string", required: false }

  # ✅ 2. MEMORANDUMS
  - name: "memorandums"
    label: "Mémorandums"
    files:
      - label: "Mémorandums"
        name: "memorandums_data"
        file: "content/memorandums.json"
        format: "json"
        fields:
          - label: "Mémorandums"
            name: "items"
            widget: "list"
            summary: "{{date}} — {{title}}"
            fields:
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Date", name: "date", widget: "datetime", format: "YYYY-MM-DD" }
              - { label: "Type de dossier", name: "type", widget: "string", required: false }
              - { label: "Résumé", name: "excerpt", widget: "text" }
              - { label: "Texte", name: "body", widget: "markdown", required: false }
              - { label: "Lien vers PDF (optionnel)", name: "pdf_url", widget: "string", required: false }

  # ✅ 3. AGENDA
  - name: "agenda"
    label: "Agenda"
    files:
      - label: "Agenda Diploval"
        name: "agenda_data"
        file: "content/agenda.json"
        format: "json"
        fields:
          - label: "Évènements"
            name: "items"
            widget: "list"
            summary: "{{date}} — {{title}}"
            fields:
              - { label: "Date (texte libre)", name: "date", widget: "string" }
              - { label: "Titre", name: "title", widget: "string" }
              - { label: "Description", name: "description", widget: "text" }

  # ✅ 4. DOSSIERS EN COURS
  - name: "dossiers"
    label: "Dossiers en cours"
    files:
      - label: "Dossiers"
        name: "dossiers_data"
        file: "content/dossiers.json"
        format: "json"
        fields:
          - label: "Dossiers"
            name: "items"
            widget: "list"
            summary: "{{zone}} — {{title}}"
            fields:
              - { label: "Titre du dossier", name: "title", widget: "string" }
              - { label: "Zone / territoire (anonyme)", name: "zone", widget: "string" }
              - { label: "Résumé court", name: "excerpt", widget: "text" }
              - { label: "Texte détaillé", name: "body", widget: "markdown" }
